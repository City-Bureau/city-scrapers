language: python
python:
  - "3.5"
  - "3.6"
  - "3.7"
sudo: required
services:
  - docker
install:
  - pip install pipenv
  - pip install --dev
script:
  - pipenv run pytest
  - pipenv run flake8
  - pipenv run isort
  - ./travis/validate_spiders.sh
deploy:
  - skip_cleanup: true
    provider: script
    script: ./deploy/deploy_acr.sh
    on:
      branch: master
